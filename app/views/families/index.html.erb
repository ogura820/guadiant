<% if @family.errors.any? %>
  <div id="error_explanation">
    <h2><%= @family.errors.count %>件のエラーがあります。</h2>
    <ul>
    <% @family.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
<% end %>

<figure class="text-center">
  <blockquote class="blockquote"> 
    <%= image_tag "title/member.svg", class: 'display-1' %>
  </blockquote>
  <figcaption class="blockquote-footer">
    <p>必要備蓄量を計算するためのメンバーを登録しましょう</p>
  </figcaption>
  </figure>
<BR>  <%= render 'manual' unless @families.present? %> <BR>
<% if @families.present? %>
  <a href="families/show" class="btn btn-danger" role="button">必要物資表示</a>
<% end %>
<%= render 'form' %> 現在メンバーは<%= @families.size %>人です
<table class="table table-striped" >
  <thead>
    <tr>
      <th>名前</th>
      <th>年齢</th>
    </tr>
  </thead>
  <tbody>
    <% @families.each do |family| %>
      <% if family.name.present? && family.sex.present? && family.age.present? %> 
      <tr>
        <td><%= family.name %></td>
        <td><%= image_tag family.icon_image, class: 'icon' %><%= family.age %>歳</td>
        <td>
          <button type="button" class="btn btn-success" data-bs-toggle="modal" data-bs-target="#exampleModal<%= family.id %>">
          <i class="bi bi-pencil-fill" aria-hidden="true"></i> 編集
          </button>
          <%= render 'edit', family: family %>  
        </td>
        <td>
            <%= link_to  family, method: :delete, data: { confirm: '本当に削除しますか?' }, class: "btn btn-danger" do %>
              <i class="bi bi-x-lg" aria-hidden="true"></i>削除
            <% end %>  
        </td>
      </tr>
      <% end %>
    <% end %>
  </tbody>
</table>